<html>
<head>
    <title><title>W04: Task 2</title></title>
</head>
<body>


    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script>
        var padding = 90, dheight = 20;
        var svg = d3.select("body").append("svg")
        d3.csv("https://kurimoto-kensuke.github.io/InfoVis2021/W04/w04_task2.csv",

        function(data){ 
        svg.selectAll("rect")
        .data(data)
        .enter()
        .append("rect")
        .attr("x", function(d){ return d.x; })
        .attr("y", function(d){ return  d.y; })
        .attr("width", function(d){ return d.width; })
        .attr("height",function(d){return d.height; })
        .style("fill",function(d){return d.color; })

        svg.selectAll("text")
        .data(data)
        .enter()
        .append("text")
        .text(function(d){ return d.label; })
        .attr("x", 0)
        .attr("y", (d, i) => dheight + i * (dheight + padding / 8) )

        svg.selectAll("value")
        .data(data)
        .enter()
        .append("text")
        .text(function(d){ return d.width; })
        .attr("x", d => dheight + d.x/1 + d.width/1)
        //.attr("x", d => d.width + d.x)
        .attr("y", (d, i) => dheight + i * (dheight + padding / 8) )
        
       
} );

    </script>
    
    </body>
</html>